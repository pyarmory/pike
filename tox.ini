[tox]
envlist = flake8, py27, py34, py35, py36, py37, py38, py39, py310, py311, py312, pypy, coverage
isolated_build = True

[testenv]
deps = -r{toxinidir}/test-requirements.txt
commands =
    py.test {toxinidir}/tests
#    coverage run --parallel-mode -m py.test {toxinidir}/tests

[testenv:coverage]
deps = coverage
commands =
    coverage combine
    coverage report -m
    coverage erase

[testenv:flake8]
commands =
    flake8 --statistics -j auto --count pike tests
